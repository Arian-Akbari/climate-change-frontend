@tailwind base;
@tailwind components;
@tailwind utilities;

/* Leaflet CSS */
@import "leaflet/dist/leaflet.css";

:root {
  --foreground-rgb: 0, 0, 0;
  --background-start-rgb: 214, 219, 220;
  --background-end-rgb: 255, 255, 255;
}

@media (prefers-color-scheme: dark) {
  :root {
    --foreground-rgb: 255, 255, 255;
    --background-start-rgb: 0, 0, 0;
    --background-end-rgb: 0, 0, 0;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Persian text utilities */
  .text-persian {
    font-family:
      var(--font-vazirmatn), "Vazirmatn", "Tahoma", sans-serif !important;
    direction: rtl;
    text-align: right;
  }

  .font-persian {
    font-family:
      var(--font-vazirmatn), "Vazirmatn", "Tahoma", sans-serif !important;
  }

  .rtl {
    direction: rtl;
    text-align: right;
  }

  .ltr {
    direction: ltr;
    text-align: left;
  }

  /* Animation delay utilities */
  .animation-delay-100 {
    animation-delay: 0.1s;
  }

  .animation-delay-200 {
    animation-delay: 0.2s;
  }

  .animation-delay-300 {
    animation-delay: 0.3s;
  }

  .animation-delay-500 {
    animation-delay: 0.5s;
  }

  .animation-delay-700 {
    animation-delay: 0.7s;
  }

  /* Hide scrollbar for Chrome, Safari and Opera */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* Hide scrollbar for IE, Edge and Firefox */
  .no-scrollbar {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }
}

@layer base {
  :root {
    /* ===== BASE SYSTEM ===== */
    --background: 210 40% 98%;
    --foreground: 217 33% 17%;
    --card: 0 0% 100%;
    --card-foreground: 217 33% 17%;
    --popover: 0 0% 100%;
    --popover-foreground: 217 33% 17%;

    /* ===== PRIMARY ACTION (Climate Green) ===== */
    --primary: 142 76% 36%;
    --primary-foreground: 0 0% 100%;
    --primary-hover: 142 76% 32%;

    /* ===== SECONDARY ACTIONS ===== */
    --secondary: 215 16% 47%;
    --secondary-foreground: 0 0% 100%;

    /* ===== MUTED ELEMENTS ===== */
    --muted: 214 32% 91%;
    --muted-foreground: 215 16% 47%;

    /* ===== ACCENT HIGHLIGHTS ===== */
    --accent: 199 89% 48%;
    --accent-foreground: 0 0% 100%;

    /* ===== BORDERS & INPUTS ===== */
    --border: 214 32% 86%;
    --input: 214 32% 86%;
    --ring: 142 76% 36%;

    /* ===== SEMANTIC COLORS ===== */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 100%;
    --success: 142 76% 36%;
    --success-foreground: 0 0% 100%;
    --info: 199 89% 48%;
    --info-foreground: 0 0% 100%;

    /* ===== DATA VISUALIZATION - Sequential (Precipitation) ===== */
    --data-seq-1: 142 76% 88%;
    --data-seq-2: 142 76% 72%;
    --data-seq-3: 142 76% 56%;
    --data-seq-4: 142 76% 36%;
    --data-seq-5: 142 76% 24%;

    /* ===== DATA VISUALIZATION - Diverging (Temperature) ===== */
    --data-div-cold-2: 199 89% 38%;
    --data-div-cold-1: 199 89% 58%;
    --data-div-neutral: 214 32% 91%;
    --data-div-warm-1: 25 95% 63%;
    --data-div-warm-2: 16 84% 60%;

    /* ===== DATA VISUALIZATION - Categorical ===== */
    --cat-1: 142 76% 36%;
    --cat-2: 199 89% 48%;
    --cat-3: 16 84% 60%;
    --cat-4: 45 93% 47%;
    --cat-5: 262 83% 58%;
    --cat-6: 32 98% 56%;
    --cat-7: 173 80% 40%;
    --cat-8: 280 87% 47%;

    /* ===== EARTH TONES (Map Overlays) ===== */
    --earth-low: 45 93% 85%;
    --earth-mid: 25 75% 47%;
    --earth-high: 30 45% 35%;
    --earth-forest: 142 71% 25%;
    --earth-desert: 43 74% 66%;
    --earth-water: 199 89% 48%;

    /* ===== RADIUS ===== */
    --radius: 1rem;

    /* ===== SIDEBAR ===== */
    --sidebar-background: 0 0% 100%;
    --sidebar-foreground: 217 33% 17%;
    --sidebar-primary: 142 76% 36%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 214 32% 91%;
    --sidebar-accent-foreground: 217 33% 17%;
    --sidebar-border: 214 32% 86%;
    --sidebar-ring: 142 76% 36%;
  }

  .dark {
    /* ===== BASE SYSTEM ===== */
    --background: 217 33% 10%;
    --foreground: 210 40% 98%;
    --card: 217 33% 15%;
    --card-foreground: 210 40% 98%;
    --popover: 217 33% 15%;
    --popover-foreground: 210 40% 98%;

    /* ===== PRIMARY ACTION ===== */
    --primary: 142 76% 45%;
    --primary-foreground: 0 0% 100%;
    --primary-hover: 142 76% 40%;

    /* ===== SECONDARY ACTIONS ===== */
    --secondary: 215 16% 35%;
    --secondary-foreground: 0 0% 100%;

    /* ===== MUTED ELEMENTS ===== */
    --muted: 217 33% 20%;
    --muted-foreground: 215 16% 65%;

    /* ===== ACCENT HIGHLIGHTS ===== */
    --accent: 199 89% 55%;
    --accent-foreground: 0 0% 100%;

    /* ===== BORDERS & INPUTS ===== */
    --border: 217 33% 25%;
    --input: 217 33% 25%;
    --ring: 142 76% 45%;

    /* ===== SEMANTIC COLORS ===== */
    --destructive: 0 84% 65%;
    --destructive-foreground: 0 0% 100%;
    --warning: 38 92% 55%;
    --warning-foreground: 0 0% 100%;
    --success: 142 76% 45%;
    --success-foreground: 0 0% 100%;
    --info: 199 89% 55%;
    --info-foreground: 0 0% 100%;

    /* ===== DATA VISUALIZATION - Sequential ===== */
    --data-seq-1: 142 76% 30%;
    --data-seq-2: 142 76% 40%;
    --data-seq-3: 142 76% 50%;
    --data-seq-4: 142 76% 60%;
    --data-seq-5: 142 76% 75%;

    /* ===== DATA VISUALIZATION - Diverging ===== */
    --data-div-cold-2: 199 89% 45%;
    --data-div-cold-1: 199 89% 65%;
    --data-div-neutral: 217 33% 30%;
    --data-div-warm-1: 25 95% 70%;
    --data-div-warm-2: 16 84% 65%;

    /* ===== DATA VISUALIZATION - Categorical ===== */
    --cat-1: 142 76% 45%;
    --cat-2: 199 89% 55%;
    --cat-3: 16 84% 65%;
    --cat-4: 45 93% 55%;
    --cat-5: 262 83% 65%;
    --cat-6: 32 98% 60%;
    --cat-7: 173 80% 50%;
    --cat-8: 280 87% 55%;

    /* ===== EARTH TONES ===== */
    --earth-low: 45 93% 40%;
    --earth-mid: 25 75% 35%;
    --earth-high: 30 45% 25%;
    --earth-forest: 142 71% 30%;
    --earth-desert: 43 74% 50%;
    --earth-water: 199 89% 45%;

    /* ===== SIDEBAR ===== */
    --sidebar-background: 217 33% 15%;
    --sidebar-foreground: 210 40% 98%;
    --sidebar-primary: 142 76% 45%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 217 33% 20%;
    --sidebar-accent-foreground: 210 40% 98%;
    --sidebar-border: 217 33% 25%;
    --sidebar-ring: 142 76% 45%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html,
  body {
    direction: ltr;
    text-align: left;
  }

  body {
    @apply bg-background text-foreground font-sans;
    font-family: var(--font-vazirmatn), "Vazirmatn", "Tahoma", sans-serif;
  }

  /* Flip elements that shouldn't be RTL */
  .rtl-flip {
    direction: ltr;
  }

  /* Adjust RTL margins/paddings */
  .rtl-swap-margin {
    margin-right: var(--margin-left, 0);
    margin-left: var(--margin-right, 0);
  }

  .rtl-swap-padding {
    padding-right: var(--padding-left, 0);
    padding-left: var(--padding-right, 0);
  }
}

.skeleton {
  * {
    pointer-events: none !important;
  }

  *[class^="text-"] {
    color: transparent;
    @apply rounded-md bg-foreground/20 select-none animate-pulse;
  }

  .skeleton-bg {
    @apply bg-foreground/10;
  }

  .skeleton-div {
    @apply bg-foreground/20 animate-pulse;
  }
}

.ProseMirror {
  outline: none;
}

.cm-editor,
.cm-gutters {
  @apply bg-background dark:bg-zinc-800 outline-none selection:bg-zinc-900 !important;
}

.ͼo.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground,
.ͼo.cm-selectionBackground,
.ͼo.cm-content::selection {
  @apply bg-zinc-200 dark:bg-zinc-900 !important;
}

.cm-activeLine,
.cm-activeLineGutter {
  @apply bg-transparent !important;
}

.cm-activeLine {
  @apply rounded-r-sm !important;
}

.cm-lineNumbers {
  @apply min-w-7;
}

.cm-foldGutter {
  @apply min-w-3;
}

.cm-lineNumbers .cm-activeLineGutter {
  @apply rounded-l-sm !important;
}

.suggestion-highlight {
  @apply bg-blue-200 hover:bg-blue-300 dark:hover:bg-blue-400/50 dark:text-blue-50 dark:bg-blue-500/40;
}

/* Banking UI specific styles */
.message-bubble-user {
  @apply bg-zinc-700 text-white rounded-lg rounded-bl-none px-4 py-3 shadow-sm;
  position: relative;
}

.message-bubble-assistant {
  @apply bg-white/90 dark:bg-zinc-800/90 text-black dark:text-white rounded-br-none px-4 py-3 shadow-sm border border-black/5 dark:border-white/10;
  position: relative;
  border-radius: 1.2rem 1.2rem 0 1.2rem;
}

/* Add space for numbered and bullet lists in message bubbles */
.message-bubble-assistant ol,
.message-bubble-assistant ul {
  padding-right: 1.5rem;
  margin-right: 0.5rem;
}

.message-bubble-assistant li {
  margin-bottom: 0.25rem;
  padding-left: 0.5rem;
}

.banking-icon {
  @apply size-10 flex items-center justify-center rounded-full bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300;
}
